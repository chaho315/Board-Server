# Board-Server
[패스트캠퍼스] 대용량 트래픽 게시판 프로젝트 따라해보기

#목적
- 대용량 트래픽을 고려한 어플리케이션 개발 (초당 1000 tps 이상의 게시글 검색 API)
- 객체지향과 디자인 패턴을 적용 및 가독성을 고려한 코드 작성 방법 공유
- 현업 단계에서 코드리뷰를 어떻게 하는지 경험 공유 공유
- 모니터링 및 트러블 슈팅 전략 공유
- 젠킨스 툴로 배포 자동화를 통해 개발 생산성 높이기

#사용기술
- JAVA 17, 스프링 부트 2.3, MyBatis, MySQL, Redis

# 성능테스트 툴
- Python 3.9, Locust
- 성능테스트 목표
 1. 서버의 지표CPU, RAM, DIS와 목표 TPS 확인
- 시나리오
 1. STRESS 테스트
    500명의 동시 사용자가 초당 50번을 호출하여 분당(5분) 사용자를 50씩 늘려 서버의 지표를 확인
 2. Endurance 테스트
    100명의 동시 사용자가 초당 100번을 호출하였을때 10분동안 서버의 지표를 확인
 3. PEAK 테스트
    100명의 동시 사용자가 초당 50번씩 호출하다 1분에 1000명으로 사용자를 한번에 늘려 서버의 지표를 확인

#기획
- 커뮤니티 사이트의 게시판을 구현함으로써 자유롭게 소통하는 및 정보 공유 사이트를 목표로 구현

#프로그램 주요기능
- 회원
 - 가입, 탈퇴
 - 아이디 및 닉네임 중복체크
 - 비밀번호 암호화
 - 로그인, 로그아웃
- 게시판
 - 카테고리 관리
 - 추가, 삭제, 수정
 - 게시글 관리
 - 게시글 & 파일 추가, 삭제, 수정, 조회
 - 유저 정보, 게시글 제목, 게시글 내용 등
 - 게시글 검색 기능
 - 작성 유정 아이디
 - 게시글 제목, 게시글 내용 등을 통해 검색
 - 태크 작성 및 조회 기능
 - 댓글 작성 기능
- 어드민
 - 공지글 추가 기능

# 이슈별 실습 내용
![이슈별 실습 내용 drawio](https://github.com/ccommit-dev/Board-Server/assets/77635521/9434ac9e-3e43-47f7-a2ad-6c560657e199)

# 아키텍처(요약)
![게시판 서버 아키텍처 drawio](https://github.com/ccommit-dev/Board-Server/assets/77635521/62e053a4-51a4-4387-90c4-f5e450441f2f)

# 프로젝트 마무리
## 사용자 API
 - JDBC Mysql 연동 : Java 언어에서 데이터베이스와의 연결을 제공하는 자바API입니다.
   + JDBC 드라이버 로드
   + 데이터베이스 연결
   + SQL 쿼리실행
   + 연결종료(리소스반납)
- Mybatis 매퍼 설정
  + 데이터베이스와 Java객체간의 매핑을 단순화하고 SQL쿼리를 효과적으로 작성할 수 있도록 도와주는 ORM프레임워크 중 하나
- 세션을 활용한 로그인 기능 개발
  + Spring Boot 에서 세션은 주로 HTTP세션을 기반으로 서버측에서 관리되며, 클라이언트와는 세션ID를 통해 상호작용
- 비밀번호 암호화 개발
  + SHA-256해시 함수를 사용하여 암호를 저장하고 검증

## 로그인 기능 AOP 적용
-사용자 지정 어노테이션 추가
 + 사용자 지정 어노테이션을 만들어 사용하는 것은 코드의 가독성을 높이고, 반복적인 작업을 간소화 하는데 도움이 됩니다.
- @around어노테이션 및 Aspect개발
  + @Around 어노테이션은 스프링AOP에서 Advice중 하나로, 대상 메서드를 감싸고 실행 전과 후에 처리를 추가할 때 사용됩니다.
  + @Aspect 어노테이션은 해당 클래스가 Aspect로 동작하도록 지정합니다. Aspect는 횡단(cross-culting)관심사를 정의하고 어드바이스(advice), 포인트컷(pointcut), 인트로덕션(introduction), 에스펙트간의 의존성을 포함할 수 있습니다.

## 게시판 API로직
- REST API 규칙 적용 : 자원을 표현하고 상태를 전송하기 위한 아키텍처적인 스타일
  + 자원 식별자(URI) : 자원은 여러 표현을 가질 수 있습니다. 예를들어 JSON,XML,HTML등
  + HTTP메서드(GET,POST,PUT,DELETE등)를 사용하여 자원에 대한 특정 작업을 수행합니다.
  + 캐시 : 응답은 캐싱이 가능하도록 세팅되어야 합니다.
  + 계층화 : 아키텍처는 계층화되어 있어야 합니다. 상위 계층은 하위 계층에 대한 구체적인 내용을 알지 못해야 합니다.
  + 유니폼 인터페이스 : 인터페이스가 일관성 있게 설정되어야 합니다.
  + 자기 서술적 메시지

- 게시글 관리 API 개발
  + 게시글의 CRUD API

- DTO추가 및 공통 Response추가
  + DTO는 주로 데이터를 전송하거나 객체 간에 데이터를 전송하는데 사용되는 객체입니다. DTO는 데이터베이스의 엔터티와 클라이언트 간의 데이터 전송을 위한 가벼운 객체로 설계됩니다.
  + API응답을 일관되게 처리하기 위해 공통 Response패턴을 도입합니다.

## 검색 API
 - 단순검색 API 개발
 - 성능을 위한 Redis 연동 및 RedisCacheManager설정
   + redisCacheManager는 캐싱을 위한 매니저로 Redis를 백엔드 스토리지로 사용합니다. 이를 통해 어플리케이션에서 캐시를 사용하여 데이터를 메모리에 저장하고 빠르게 검색 할 수 있습니다.
   + redisCacheConfiguration()메서드에서는 캐시에 저장되는 키와 값을 직렬화하는 방식을 설정합니다. 이 설정은 기본적으로 UTF-8문자열 직렬화를 사용합니다.

- @Cacheable, @CacheEvict 어노테이션 적용
  + @Cacheable 어노테이션은 메서드의 결과를 캐시에 저장하고, 동일한 입력값에 대해 메서드를 호출할 때 실제 메서드를 실행하지 않고 캐시에서 결과를 반환합니다.
  + @CacheEvict 어노테이션은 캐시에서 특정 엔트리나 전체 캐시를 지우는데 사용됩니다.

## 댓글 태그 기능
- 해시태그 기능 개발
  + 해시태그는 주로 사용자가 콘텐츠를 그룹화하거나 특정 주제에 연결할때 사용되며, 소셜 미디어 플랫폼이나 블로그 등에서 자주 볼 수 있는 기능입니다.
  + 1. 데이터 모델링
  + 2. 해시태그 추출
  + 3. 게시물에 해시태그 추가
  + 4. 해시태그 검색
       
- 댓글 및 대댓글 기능 개발
  + 1. 데이터 모델링
  + 2. 서비스 및 리포지토리
  + 3. 컨트롤러
  + 4. 클라이언트 사이드
  

